# Rejection Awareness Evaluation Report

## Overview

Survivorship bias is a potential concern in the Good Egg trust
graph: the graph is built exclusively from *merged* PRs, ignoring
rejected (closed-without-merge) contributions. This means an
author who has 10 merged PRs out of 100 attempts looks identical
to one who merged 10 out of 10. This experiment tests whether
incorporating rejection data into the trust graph improves merge
prediction.

## Data Coverage

- **Total unique authors**: 2,251
- **Authors with closed PR data**: 1,958 (87.0%)
- **Authors without closed PR data**: 293
- **Authors at backfill cap (500 closed PRs)**: 44
- **Total closed PRs loaded**: 112,025
- **PRs with temporally-scoped merge rate**: 4,416
- **PRs without (authors lacking closed data)**: 561

## AUC Comparison

| Approach | AUC | 95% CI | SE | n |
|----------|-----|--------|----|----|
| Full model | 0.6709 | [0.6532, 0.6887] | 0.0090 | 4,977 |
| Per-repo scaling | 0.6708 | [0.6531, 0.6886] | 0.0090 | 4,977 |
| Author-level scaling | 0.6708 | [0.6531, 0.6886] | 0.0090 | 4,977 |
| LR(GE + merge_rate) | 0.6617 | [0.6411, 0.6823] | 0.0105 | 4,416 |
| LR(GE + merge_rate + age) | 0.6653 | [0.6446, 0.6860] | 0.0106 | 4,416 |
| Full model (merge rate subset) | 0.6668 | [0.6475, 0.6862] | 0.0099 | 4,416 |

## Pairwise DeLong Tests

| Comparison | AUC A | AUC B | z | Raw p | Adj. p |
|------------|-------|-------|---|------|--------|
| Full model vs Per-repo scaling | 0.6709 | 0.6708 | 0.709 | 4.7823e-01 | 1.0000e+00 |
| Full model vs Author-level scaling | 0.6709 | 0.6708 | 0.740 | 4.5946e-01 | 1.0000e+00 |
| Full model vs LR(GE + merge_rate) | 0.6668 | 0.6617 | 1.142 | 2.5329e-01 | 1.0000e+00 |
| Full model vs LR(GE + merge_rate + age) | 0.6668 | 0.6653 | 0.340 | 7.3364e-01 | 1.0000e+00 |
| LR(GE + merge_rate) vs LR(GE + merge_rate + age) | 0.6617 | 0.6653 | -2.285 | 2.2292e-02 | 1.1146e-01 |

## Graph Integration vs Feature Engineering

Comparing graph-integrated edge scaling against logistic
regression that uses merge rate as a separate feature.

- **LRT statistic (GE+merge_rate vs GE)**: 68.455 (cross-validated)
- **LRT p-value**: 1.2984e-16
- **LRT df**: 1

Per-repo scaling AUC = 0.6708, LR(GE + merge_rate) AUC = 0.6617.

### Intermediate Combined Model (GE + merge_rate + age)

- **AUC**: 0.6653 (95% CI: [0.6446, 0.6860], n=4,416)
- **LRT (age increment over GE+merge_rate)**: 9.455 (p=2.1054e-03, cross-validated)

## Subgroup: High-Rejection Authors

Authors with temporally-scoped merge rate < 0.5 (n=924).

| Approach | AUC | 95% CI | n |
|----------|-----|--------|---|
| Full model | 0.5529 | [0.5187, 0.5870] | 924 |
| Per-repo scaling | 0.5528 | [0.5186, 0.5870] | 924 |
| Author-level scaling | 0.5530 | [0.5188, 0.5871] | 924 |
| LR(GE + merge_rate) | 0.5809 | [0.5400, 0.6218] | 924 |
| LR(GE + merge_rate + age) | 0.6279 | [0.5857, 0.6701] | 924 |

## Sensitivity: Missing Data

- **PRs from authors with closed data**: 4,416
- **PRs from authors without closed data**: 561

- Full model AUC (with closed data): 0.6668 [0.6475, 0.6862]
- Full model AUC (without closed data): 0.6778 [0.6387, 0.7169]

## Sensitivity: Backfill Truncation

The closed PR backfill was capped at 500 closed PRs per author.
**44** authors hit this cap,
affecting **151** test PRs.

For these authors, the merge rate may be biased upward (missing older
rejections). If their true rejection rate is higher than observed,
the scaling approaches would under-penalize their scores.

| Approach | AUC | 95% CI | n |
|----------|-----|--------|---|
| Full model | 0.3686 | [0.2789, 0.4584] | 151 |
| Per-repo scaling | 0.3686 | [0.2789, 0.4584] | 151 |
| Author-level scaling | 0.3686 | [0.2789, 0.4584] | 151 |
| LR(GE + merge_rate) | 0.3972 | [0.3048, 0.4896] | 145 |
| LR(GE + merge_rate + age) | 0.4061 | [0.3130, 0.4991] | 145 |

## Conclusions

No rejection-aware approach shows a statistically significant
improvement over the full model after Holm-Bonferroni
correction. The survivorship bias in the trust graph does not
appear to materially affect merge prediction in this dataset.

---
*Generated by evaluate_rejection_awareness.py*